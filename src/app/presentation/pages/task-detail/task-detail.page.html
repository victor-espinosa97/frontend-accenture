<ion-header>
  <ion-toolbar>

    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tasks"></ion-back-button>
    </ion-buttons>

    <ion-title>{{ editing ? 'Editar Tarea' : 'Nueva Tarea' }}</ion-title>

  </ion-toolbar>
</ion-header>


<ion-content class="ion-padding">

  <ion-item>
    <ion-label position="stacked">Título</ion-label>
    <ion-input [(ngModel)]="title"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="stacked">Descripción</ion-label>
    <ion-textarea rows="4" [(ngModel)]="description"></ion-textarea>
  </ion-item>

  <!-- Categorías -->
  <ion-item *ngIf="(categories$ | async) as cats">
    <ion-label>Categoría</ion-label>
    <ion-select [(ngModel)]="categoryId" interface="popover">
      <ion-select-option [value]="null">Sin categoría</ion-select-option>
      <ion-select-option *ngFor="let c of cats" [value]="c.id">
        {{ c.name }}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <ion-button expand="block" shape="round" size="large" (click)="save()">
    <ion-icon name="save-outline" slot="start"></ion-icon>
    {{ editing ? 'Guardar cambios' : 'Crear tarea' }}
  </ion-button>


</ion-content>
